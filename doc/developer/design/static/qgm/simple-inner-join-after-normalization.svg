<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1752" height="676pt" viewBox="0 0 1314 676"><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 672)"><title>G</title><polygon fill="#fff" stroke="transparent" points="-4 4 -4 -672 1310 -672 1310 4 -4 4"/><text x="330" y="-7.8" font-family="Times,serif" font-size="14" text-anchor="middle">select * from t1 inner join t2 on t1.f1 = t2.f2 inner join t3 on t1.f1 = t3.f1; (after rewrites)</text><g id="clust1" class="cluster"><title>cluster0</title><polygon fill="none" stroke="#000" points="16 -205 16 -498 1298 -498 1298 -205 16 -205"/><text x="66.5" y="-482.8" font-family="Times,serif" font-size="14" text-anchor="middle">Box0:Select</text></g><g id="clust3" class="cluster"><title>cluster5</title><polygon fill="none" stroke="#000" points="796 -31 796 -186 958 -186 958 -31 796 -31"/><text x="872" y="-170.8" font-family="Times,serif" font-size="14" text-anchor="middle">Box5:BaseTable T3</text></g><g id="clust5" class="cluster"><title>cluster4</title><polygon fill="none" stroke="#000" points="464 -31 464 -186 626 -186 626 -31 464 -31"/><text x="540" y="-170.8" font-family="Times,serif" font-size="14" text-anchor="middle">Box4:BaseTable T2</text></g><g id="clust7" class="cluster"><title>cluster3</title><polygon fill="none" stroke="#000" points="8 -31 8 -186 170 -186 170 -31 8 -31"/><text x="84" y="-170.8" font-family="Times,serif" font-size="14" text-anchor="middle">Box3:BaseTable T1</text></g><g id="node1" class="node"><title>boxhead0</title><polygon fill="none" stroke="#000" points="1144 -213.5 1144 -443.5 1290 -443.5 1290 -213.5 1144 -213.5"/><text x="1217" y="-428.3" font-family="Times,serif" font-size="14" text-anchor="middle">Distinct: Preserve</text><polyline fill="none" stroke="#000" points="1144 -420.5 1290 -420.5"/><text x="1217" y="-405.3" font-family="Times,serif" font-size="14" text-anchor="middle">0: Q0.c0 as F1</text><polyline fill="none" stroke="#000" points="1144 -397.5 1290 -397.5"/><text x="1217" y="-382.3" font-family="Times,serif" font-size="14" text-anchor="middle">1: Q0.c1 as F2</text><polyline fill="none" stroke="#000" points="1144 -374.5 1290 -374.5"/><text x="1217" y="-359.3" font-family="Times,serif" font-size="14" text-anchor="middle">2: Q0.c2 as F3</text><polyline fill="none" stroke="#000" points="1144 -351.5 1290 -351.5"/><text x="1217" y="-336.3" font-family="Times,serif" font-size="14" text-anchor="middle">3: Q1.c0 as F1</text><polyline fill="none" stroke="#000" points="1144 -328.5 1290 -328.5"/><text x="1217" y="-313.3" font-family="Times,serif" font-size="14" text-anchor="middle">4: Q1.c1 as F2</text><polyline fill="none" stroke="#000" points="1144 -305.5 1290 -305.5"/><text x="1217" y="-290.3" font-family="Times,serif" font-size="14" text-anchor="middle">5: Q1.c2 as F3</text><polyline fill="none" stroke="#000" points="1144 -282.5 1290 -282.5"/><text x="1217" y="-267.3" font-family="Times,serif" font-size="14" text-anchor="middle">6: Q3.c0 as F1</text><polyline fill="none" stroke="#000" points="1144 -259.5 1290 -259.5"/><text x="1217" y="-244.3" font-family="Times,serif" font-size="14" text-anchor="middle">7: Q3.c1 as F2</text><polyline fill="none" stroke="#000" points="1144 -236.5 1290 -236.5"/><text x="1217" y="-221.3" font-family="Times,serif" font-size="14" text-anchor="middle">8: Q3.c2 as F3</text></g><g id="node2" class="node"><title>Q0</title><ellipse cx="89" cy="-328.5" fill="none" stroke="#000" rx="64.99" ry="64.99"/><text x="89" y="-324.8" font-family="Times,serif" font-size="14" text-anchor="middle">Q0(F) as T1</text></g><g id="edge3" class="edge"><title>Q0-&gt;Q0</title><path fill="none" stroke="#000" d="M149.43,-352.88C162.51,-350.5 171.99,-342.37 171.99,-328.5 171.99,-314.63 162.51,-306.5 149.43,-304.12"/><text x="254.99" y="-324.8" font-family="Times,serif" font-size="14" text-anchor="middle">NOT ((Q0.c0) IS NULL)</text></g><g id="node3" class="node"><title>Q1</title><ellipse cx="545" cy="-328.5" fill="none" stroke="#000" rx="64.99" ry="64.99"/><text x="545" y="-324.8" font-family="Times,serif" font-size="14" text-anchor="middle">Q1(F) as T2</text></g><g id="edge2" class="edge"><title>Q0-&gt;Q1</title><path fill="none" stroke="#000" d="M154.33,-328.5C241.02,-328.5 393.16,-328.5 479.79,-328.5"/><text x="317" y="-335.3" font-family="Times,serif" font-size="14" text-anchor="middle">(Q0.c0) = (Q1.c1)</text></g><g id="node4" class="node"><title>Q3</title><ellipse cx="877" cy="-328.5" fill="none" stroke="#000" rx="64.99" ry="64.99"/><text x="877" y="-324.8" font-family="Times,serif" font-size="14" text-anchor="middle">Q3(F) as T3</text></g><g id="edge1" class="edge"><title>Q0-&gt;Q3</title><path fill="none" stroke="#000" d="M146.07,-359.73C218.92,-397.65 350.04,-459.47 471,-483 543.42,-497.09 740.57,-522.32 803,-483 834.58,-463.11 852.98,-425.59 863.54,-392.51"/><text x="483" y="-509.8" font-family="Times,serif" font-size="14" text-anchor="middle">(Q0.c0) = (Q3.c0)</text></g><g id="node7" class="node"><title>boxhead3</title><polygon fill="none" stroke="#000" points="16 -39.5 16 -131.5 162 -131.5 162 -39.5 16 -39.5"/><text x="89" y="-116.3" font-family="Times,serif" font-size="14" text-anchor="middle">Distinct: Preserve</text><polyline fill="none" stroke="#000" points="16 -108.5 162 -108.5"/><text x="89" y="-93.3" font-family="Times,serif" font-size="14" text-anchor="middle">0: c0 as F1</text><polyline fill="none" stroke="#000" points="16 -85.5 162 -85.5"/><text x="89" y="-70.3" font-family="Times,serif" font-size="14" text-anchor="middle">1: c1 as F2</text><polyline fill="none" stroke="#000" points="16 -62.5 162 -62.5"/><text x="89" y="-47.3" font-family="Times,serif" font-size="14" text-anchor="middle">2: c2 as F3</text></g><g id="edge6" class="edge"><title>Q0-&gt;boxhead3</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M89,-263.23C89,-239.53 89,-212.09 89,-186"/></g><g id="edge4" class="edge"><title>Q1-&gt;Q1</title><path fill="none" stroke="#000" d="M605.43,-352.88C618.51,-350.5 627.99,-342.37 627.99,-328.5 627.99,-314.63 618.51,-306.5 605.43,-304.12"/><text x="710.99" y="-324.8" font-family="Times,serif" font-size="14" text-anchor="middle">NOT ((Q1.c1) IS NULL)</text></g><g id="node6" class="node"><title>boxhead4</title><polygon fill="none" stroke="#000" points="472 -39.5 472 -131.5 618 -131.5 618 -39.5 472 -39.5"/><text x="545" y="-116.3" font-family="Times,serif" font-size="14" text-anchor="middle">Distinct: Preserve</text><polyline fill="none" stroke="#000" points="472 -108.5 618 -108.5"/><text x="545" y="-93.3" font-family="Times,serif" font-size="14" text-anchor="middle">0: c0 as F1</text><polyline fill="none" stroke="#000" points="472 -85.5 618 -85.5"/><text x="545" y="-70.3" font-family="Times,serif" font-size="14" text-anchor="middle">1: c1 as F2</text><polyline fill="none" stroke="#000" points="472 -62.5 618 -62.5"/><text x="545" y="-47.3" font-family="Times,serif" font-size="14" text-anchor="middle">2: c2 as F3</text></g><g id="edge7" class="edge"><title>Q1-&gt;boxhead4</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M545,-263.23C545,-239.53 545,-212.09 545,-186"/></g><g id="edge5" class="edge"><title>Q3-&gt;Q3</title><path fill="none" stroke="#000" d="M937.43,-352.88C950.51,-350.5 959.99,-342.37 959.99,-328.5 959.99,-314.63 950.51,-306.5 937.43,-304.12"/><text x="1042.99" y="-324.8" font-family="Times,serif" font-size="14" text-anchor="middle">NOT ((Q3.c0) IS NULL)</text></g><g id="node5" class="node"><title>boxhead5</title><polygon fill="none" stroke="#000" points="804 -39.5 804 -131.5 950 -131.5 950 -39.5 804 -39.5"/><text x="877" y="-116.3" font-family="Times,serif" font-size="14" text-anchor="middle">Distinct: Preserve</text><polyline fill="none" stroke="#000" points="804 -108.5 950 -108.5"/><text x="877" y="-93.3" font-family="Times,serif" font-size="14" text-anchor="middle">0: c0 as F1</text><polyline fill="none" stroke="#000" points="804 -85.5 950 -85.5"/><text x="877" y="-70.3" font-family="Times,serif" font-size="14" text-anchor="middle">1: c1 as F2</text><polyline fill="none" stroke="#000" points="804 -62.5 950 -62.5"/><text x="877" y="-47.3" font-family="Times,serif" font-size="14" text-anchor="middle">2: c2 as F3</text></g><g id="edge8" class="edge"><title>Q3-&gt;boxhead5</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M877,-263.23C877,-239.53 877,-212.09 877,-186"/></g></g></svg>