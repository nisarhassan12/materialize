<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="742pt" height="619pt" viewBox="0 0 742 619"><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 615)"><title>G</title><polygon fill="#fff" stroke="transparent" points="-4 4 -4 -615 738 -615 738 4 -4 4"/><text x="231" y="-7.8" font-family="Times,serif" font-size="14" text-anchor="middle">select * from t1 right join t2 on t1.f1 = t2.f2; (before rewrites)</text><g id="clust1" class="cluster"><title>cluster0</title><polygon fill="none" stroke="#000" points="472 -402 472 -603 726 -603 726 -402 472 -402"/><text x="522.5" y="-587.8" font-family="Times,serif" font-size="14" text-anchor="middle">Box0:Select</text></g><g id="clust3" class="cluster"><title>cluster1</title><polygon fill="none" stroke="#000" points="16 -182 16 -383 598 -383 598 -182 16 -182"/><text x="78.5" y="-367.8" font-family="Times,serif" font-size="14" text-anchor="middle">Box1:OuterJoin</text></g><g id="clust5" class="cluster"><title>cluster3</title><polygon fill="none" stroke="#000" points="280 -31 280 -163 442 -163 442 -31 280 -31"/><text x="356" y="-147.8" font-family="Times,serif" font-size="14" text-anchor="middle">Box3:BaseTable T2</text></g><g id="clust7" class="cluster"><title>cluster2</title><polygon fill="none" stroke="#000" points="8 -31 8 -163 170 -163 170 -31 8 -31"/><text x="84" y="-147.8" font-family="Times,serif" font-size="14" text-anchor="middle">Box2:BaseTable T1</text></g><g id="node1" class="node"><title>boxhead0</title><polygon fill="none" stroke="#000" points="572 -410.5 572 -571.5 718 -571.5 718 -410.5 572 -410.5"/><text x="645" y="-556.3" font-family="Times,serif" font-size="14" text-anchor="middle">Distinct: Preserve</text><polyline fill="none" stroke="#000" points="572 -548.5 718 -548.5"/><text x="645" y="-533.3" font-family="Times,serif" font-size="14" text-anchor="middle">0: Q2.c0 as F1</text><polyline fill="none" stroke="#000" points="572 -525.5 718 -525.5"/><text x="645" y="-510.3" font-family="Times,serif" font-size="14" text-anchor="middle">1: Q2.c1 as F2</text><polyline fill="none" stroke="#000" points="572 -502.5 718 -502.5"/><text x="645" y="-487.3" font-family="Times,serif" font-size="14" text-anchor="middle">2: Q2.c2 as F3</text><polyline fill="none" stroke="#000" points="572 -479.5 718 -479.5"/><text x="645" y="-464.3" font-family="Times,serif" font-size="14" text-anchor="middle">3: Q2.c3 as F1</text><polyline fill="none" stroke="#000" points="572 -456.5 718 -456.5"/><text x="645" y="-441.3" font-family="Times,serif" font-size="14" text-anchor="middle">4: Q2.c4 as F2</text><polyline fill="none" stroke="#000" points="572 -433.5 718 -433.5"/><text x="645" y="-418.3" font-family="Times,serif" font-size="14" text-anchor="middle">5: Q2.c5 as F3</text></g><g id="node2" class="node"><title>Q2</title><ellipse cx="517" cy="-491" fill="none" stroke="#000" rx="37.09" ry="37.09"/><text x="517" y="-487.3" font-family="Times,serif" font-size="14" text-anchor="middle">Q2(F)</text></g><g id="node3" class="node"><title>boxhead1</title><polygon fill="none" stroke="#000" points="444 -190.5 444 -351.5 590 -351.5 590 -190.5 444 -190.5"/><text x="517" y="-336.3" font-family="Times,serif" font-size="14" text-anchor="middle">Distinct: Preserve</text><polyline fill="none" stroke="#000" points="444 -328.5 590 -328.5"/><text x="517" y="-313.3" font-family="Times,serif" font-size="14" text-anchor="middle">0: Q0.c0 as F1</text><polyline fill="none" stroke="#000" points="444 -305.5 590 -305.5"/><text x="517" y="-290.3" font-family="Times,serif" font-size="14" text-anchor="middle">1: Q0.c1 as F2</text><polyline fill="none" stroke="#000" points="444 -282.5 590 -282.5"/><text x="517" y="-267.3" font-family="Times,serif" font-size="14" text-anchor="middle">2: Q0.c2 as F3</text><polyline fill="none" stroke="#000" points="444 -259.5 590 -259.5"/><text x="517" y="-244.3" font-family="Times,serif" font-size="14" text-anchor="middle">3: Q1.c0 as F1</text><polyline fill="none" stroke="#000" points="444 -236.5 590 -236.5"/><text x="517" y="-221.3" font-family="Times,serif" font-size="14" text-anchor="middle">4: Q1.c1 as F2</text><polyline fill="none" stroke="#000" points="444 -213.5 590 -213.5"/><text x="517" y="-198.3" font-family="Times,serif" font-size="14" text-anchor="middle">5: Q1.c2 as F3</text></g><g id="edge2" class="edge"><title>Q2-&gt;boxhead1</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M517,-453.51C517,-433.88 517,-408.51 517,-383"/></g><g id="node4" class="node"><title>Q0</title><ellipse cx="89" cy="-271" fill="none" stroke="#000" rx="64.99" ry="64.99"/><text x="89" y="-267.3" font-family="Times,serif" font-size="14" text-anchor="middle">Q0(F) as T1</text></g><g id="node5" class="node"><title>Q1</title><ellipse cx="361" cy="-271" fill="none" stroke="#000" rx="64.99" ry="64.99"/><text x="361" y="-267.3" font-family="Times,serif" font-size="14" text-anchor="middle">Q1(P) as T2</text></g><g id="edge1" class="edge"><title>Q0-&gt;Q1</title><path fill="none" stroke="#000" d="M154.15,-271C197.06,-271 253.02,-271 295.91,-271"/><text x="225" y="-277.8" font-family="Times,serif" font-size="14" text-anchor="middle">(Q0.c0) = (Q1.c1)</text></g><g id="node7" class="node"><title>boxhead2</title><polygon fill="none" stroke="#000" points="16 -39.5 16 -131.5 162 -131.5 162 -39.5 16 -39.5"/><text x="89" y="-116.3" font-family="Times,serif" font-size="14" text-anchor="middle">Distinct: Preserve</text><polyline fill="none" stroke="#000" points="16 -108.5 162 -108.5"/><text x="89" y="-93.3" font-family="Times,serif" font-size="14" text-anchor="middle">0: c0 as F1</text><polyline fill="none" stroke="#000" points="16 -85.5 162 -85.5"/><text x="89" y="-70.3" font-family="Times,serif" font-size="14" text-anchor="middle">1: c1 as F2</text><polyline fill="none" stroke="#000" points="16 -62.5 162 -62.5"/><text x="89" y="-47.3" font-family="Times,serif" font-size="14" text-anchor="middle">2: c2 as F3</text></g><g id="edge3" class="edge"><title>Q0-&gt;boxhead2</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M89,-205.82C89,-191.99 89,-177.24 89,-163"/></g><g id="node6" class="node"><title>boxhead3</title><polygon fill="none" stroke="#000" points="288 -39.5 288 -131.5 434 -131.5 434 -39.5 288 -39.5"/><text x="361" y="-116.3" font-family="Times,serif" font-size="14" text-anchor="middle">Distinct: Preserve</text><polyline fill="none" stroke="#000" points="288 -108.5 434 -108.5"/><text x="361" y="-93.3" font-family="Times,serif" font-size="14" text-anchor="middle">0: c0 as F1</text><polyline fill="none" stroke="#000" points="288 -85.5 434 -85.5"/><text x="361" y="-70.3" font-family="Times,serif" font-size="14" text-anchor="middle">1: c1 as F2</text><polyline fill="none" stroke="#000" points="288 -62.5 434 -62.5"/><text x="361" y="-47.3" font-family="Times,serif" font-size="14" text-anchor="middle">2: c2 as F3</text></g><g id="edge4" class="edge"><title>Q1-&gt;boxhead3</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M361,-205.82C361,-191.99 361,-177.24 361,-163"/></g></g></svg>