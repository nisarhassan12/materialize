<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1016" height="676pt" viewBox="0 0 762 676"><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 672)"><title>G</title><polygon fill="#fff" stroke="transparent" points="-4 4 -4 -672 758 -672 758 4 -4 4"/><text x="285.5" y="-7.8" font-family="Times,serif" font-size="14" text-anchor="middle">select * from t1, t2, t3 where t1.f1 = t2.f1 and t1.f1 = t3.f1; (before rewrites)</text><g id="clust1" class="cluster"><title>cluster0</title><polygon fill="none" stroke="#000" points="16 -205 16 -498 746 -498 746 -205 16 -205"/><text x="66.5" y="-482.8" font-family="Times,serif" font-size="14" text-anchor="middle">Box0:Select</text></g><g id="clust3" class="cluster"><title>cluster3</title><polygon fill="none" stroke="#000" points="436 -31 436 -186 598 -186 598 -31 436 -31"/><text x="512" y="-170.8" font-family="Times,serif" font-size="14" text-anchor="middle">Box3:BaseTable T3</text></g><g id="clust5" class="cluster"><title>cluster2</title><polygon fill="none" stroke="#000" points="266 -31 266 -186 428 -186 428 -31 266 -31"/><text x="342" y="-170.8" font-family="Times,serif" font-size="14" text-anchor="middle">Box2:BaseTable T2</text></g><g id="clust7" class="cluster"><title>cluster1</title><polygon fill="none" stroke="#000" points="8 -31 8 -186 170 -186 170 -31 8 -31"/><text x="84" y="-170.8" font-family="Times,serif" font-size="14" text-anchor="middle">Box1:BaseTable T1</text></g><g id="node1" class="node"><title>boxhead0</title><polygon fill="none" stroke="#000" points="592 -213.5 592 -443.5 738 -443.5 738 -213.5 592 -213.5"/><text x="665" y="-428.3" font-family="Times,serif" font-size="14" text-anchor="middle">Distinct: Preserve</text><polyline fill="none" stroke="#000" points="592 -420.5 738 -420.5"/><text x="665" y="-405.3" font-family="Times,serif" font-size="14" text-anchor="middle">0: Q0.c0 as F1</text><polyline fill="none" stroke="#000" points="592 -397.5 738 -397.5"/><text x="665" y="-382.3" font-family="Times,serif" font-size="14" text-anchor="middle">1: Q0.c1 as F2</text><polyline fill="none" stroke="#000" points="592 -374.5 738 -374.5"/><text x="665" y="-359.3" font-family="Times,serif" font-size="14" text-anchor="middle">2: Q0.c2 as F3</text><polyline fill="none" stroke="#000" points="592 -351.5 738 -351.5"/><text x="665" y="-336.3" font-family="Times,serif" font-size="14" text-anchor="middle">3: Q1.c0 as F1</text><polyline fill="none" stroke="#000" points="592 -328.5 738 -328.5"/><text x="665" y="-313.3" font-family="Times,serif" font-size="14" text-anchor="middle">4: Q1.c1 as F2</text><polyline fill="none" stroke="#000" points="592 -305.5 738 -305.5"/><text x="665" y="-290.3" font-family="Times,serif" font-size="14" text-anchor="middle">5: Q1.c2 as F3</text><polyline fill="none" stroke="#000" points="592 -282.5 738 -282.5"/><text x="665" y="-267.3" font-family="Times,serif" font-size="14" text-anchor="middle">6: Q2.c0 as F1</text><polyline fill="none" stroke="#000" points="592 -259.5 738 -259.5"/><text x="665" y="-244.3" font-family="Times,serif" font-size="14" text-anchor="middle">7: Q2.c1 as F2</text><polyline fill="none" stroke="#000" points="592 -236.5 738 -236.5"/><text x="665" y="-221.3" font-family="Times,serif" font-size="14" text-anchor="middle">8: Q2.c2 as F3</text></g><g id="node2" class="node"><title>Q0</title><ellipse cx="89" cy="-328.5" fill="none" stroke="#000" rx="64.99" ry="64.99"/><text x="89" y="-324.8" font-family="Times,serif" font-size="14" text-anchor="middle">Q0(F) as T1</text></g><g id="node3" class="node"><title>Q1</title><ellipse cx="361" cy="-328.5" fill="none" stroke="#000" rx="64.99" ry="64.99"/><text x="361" y="-324.8" font-family="Times,serif" font-size="14" text-anchor="middle">Q1(F) as T2</text></g><g id="edge1" class="edge"><title>Q0-&gt;Q1</title><path fill="none" stroke="#000" d="M154.15,-328.5C197.06,-328.5 253.02,-328.5 295.91,-328.5"/><text x="225" y="-335.3" font-family="Times,serif" font-size="14" text-anchor="middle">(Q0.c0) = (Q1.c0)</text></g><g id="node4" class="node"><title>Q2</title><ellipse cx="509" cy="-328.5" fill="none" stroke="#000" rx="64.99" ry="64.99"/><text x="509" y="-324.8" font-family="Times,serif" font-size="14" text-anchor="middle">Q2(F) as T3</text></g><g id="edge2" class="edge"><title>Q0-&gt;Q2</title><path fill="none" stroke="#000" d="M132.78,-376.96C169.72,-413.98 226.18,-462.08 287,-483 349.2,-504.4 379.34,-518.05 435,-483 466.58,-463.11 484.98,-425.59 495.54,-392.51"/><text x="299" y="-509.8" font-family="Times,serif" font-size="14" text-anchor="middle">(Q0.c0) = (Q2.c0)</text></g><g id="node7" class="node"><title>boxhead1</title><polygon fill="none" stroke="#000" points="16 -39.5 16 -131.5 162 -131.5 162 -39.5 16 -39.5"/><text x="89" y="-116.3" font-family="Times,serif" font-size="14" text-anchor="middle">Distinct: Preserve</text><polyline fill="none" stroke="#000" points="16 -108.5 162 -108.5"/><text x="89" y="-93.3" font-family="Times,serif" font-size="14" text-anchor="middle">0: c0 as F1</text><polyline fill="none" stroke="#000" points="16 -85.5 162 -85.5"/><text x="89" y="-70.3" font-family="Times,serif" font-size="14" text-anchor="middle">1: c1 as F2</text><polyline fill="none" stroke="#000" points="16 -62.5 162 -62.5"/><text x="89" y="-47.3" font-family="Times,serif" font-size="14" text-anchor="middle">2: c2 as F3</text></g><g id="edge3" class="edge"><title>Q0-&gt;boxhead1</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M89,-263.23C89,-239.53 89,-212.09 89,-186"/></g><g id="node6" class="node"><title>boxhead2</title><polygon fill="none" stroke="#000" points="274 -39.5 274 -131.5 420 -131.5 420 -39.5 274 -39.5"/><text x="347" y="-116.3" font-family="Times,serif" font-size="14" text-anchor="middle">Distinct: Preserve</text><polyline fill="none" stroke="#000" points="274 -108.5 420 -108.5"/><text x="347" y="-93.3" font-family="Times,serif" font-size="14" text-anchor="middle">0: c0 as F1</text><polyline fill="none" stroke="#000" points="274 -85.5 420 -85.5"/><text x="347" y="-70.3" font-family="Times,serif" font-size="14" text-anchor="middle">1: c1 as F2</text><polyline fill="none" stroke="#000" points="274 -62.5 420 -62.5"/><text x="347" y="-47.3" font-family="Times,serif" font-size="14" text-anchor="middle">2: c2 as F3</text></g><g id="edge4" class="edge"><title>Q1-&gt;boxhead2</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M357.29,-263.55C355.9,-239.77 354.3,-212.2 352.78,-186"/></g><g id="node5" class="node"><title>boxhead3</title><polygon fill="none" stroke="#000" points="444 -39.5 444 -131.5 590 -131.5 590 -39.5 444 -39.5"/><text x="517" y="-116.3" font-family="Times,serif" font-size="14" text-anchor="middle">Distinct: Preserve</text><polyline fill="none" stroke="#000" points="444 -108.5 590 -108.5"/><text x="517" y="-93.3" font-family="Times,serif" font-size="14" text-anchor="middle">0: c0 as F1</text><polyline fill="none" stroke="#000" points="444 -85.5 590 -85.5"/><text x="517" y="-70.3" font-family="Times,serif" font-size="14" text-anchor="middle">1: c1 as F2</text><polyline fill="none" stroke="#000" points="444 -62.5 590 -62.5"/><text x="517" y="-47.3" font-family="Times,serif" font-size="14" text-anchor="middle">2: c2 as F3</text></g><g id="edge5" class="edge"><title>Q2-&gt;boxhead3</title><path fill="none" stroke="#000" stroke-dasharray="5 2" d="M511.13,-263.23C511.92,-239.53 512.83,-212.09 513.7,-186"/></g></g></svg>